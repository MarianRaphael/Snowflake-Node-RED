# manifest.yml
# This is the "blueprint" for your Snowflake Native App.
# It tells Snowflake what's in the app and how to set it up.

manifest_version: 1

# The 'artifacts' section lists the files that are part of the application package.
artifacts:
  # The setup script that Snowflake runs upon installation.
  setup_script: setup.sql
  # The Streamlit app that provides the user interface.
  # We're giving it an alias 'streamlit_app' and pointing to the directory containing the app.
  streamlit_app:
    source: streamlit/
    main_file: app.py
  # A README file is good practice for distribution.
  readme: README.md

# The 'configuration' section defines settings that consumers can see or change.
configuration:
  # We're making the log level visible to the consumer.
  log_level:
    label: "Log Level"
    description: "Set the logging level for the application (e.g., info, warn, error)."
    type: string
    default: "info"

# The 'privileges' section requests permissions the app needs to function.
privileges:
  # This app needs to create a database to store its state or logs.
  - CREATE DATABASE
  # It needs to create an application role for access control.
  - CREATE APPLICATION ROLE

# Define the default Streamlit app to launch when a user opens the app.
# We reference the schema created in setup.sql and the alias from the artifacts section.
default_streamlit: app_schema.streamlit_app
